# Creating a working HTML file for the Spider-Man climbing & swinging game (simplified final version),
# saving it to /mnt/data/spiderman.html so you can download it.
html_content = r"""<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Spider-Man: Building Swing</title>
<style>
  html,body{height:100%;margin:0;background:skyblue;font-family:Arial,Helvetica,sans-serif}
  canvas{display:block;width:100vw;height:100vh}
  #ui{position:absolute;left:10px;top:10px;color:#000}
  #menu{position:absolute;left:50%;top:12vh;transform:translateX(-50%);background:rgba(255,255,255,0.9);padding:12px;border-radius:8px;box-shadow:0 6px 16px rgba(0,0,0,0.2)}
  button{padding:8px 12px;border-radius:8px;border:0;background:#111;color:white;cursor:pointer}
</style>
</head>
<body>
<canvas id="game"></canvas>
<div id="menu">
  <h3>Spider-Man: Building Swing</h3>
  <div style="font-size:13px">Drag up/down to climb. Tap/click to swing.</div>
  <div style="margin-top:10px"><button id="play">Play</button></div>
  <div style="margin-top:8px;font-size:13px">High score: <span id="hs">0</span></div>
</div>
<div id="ui" style="display:none">Score: <span id="score">0</span></div>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
addEventListener('resize', resize); resize();

// simple state
let playing = false;
let score = 0;
let high = parseInt(localStorage.getItem('spidey_high')||'0');
document.getElementById('hs').textContent = high;

// buildings
const bw = 160;
let gap = 280;
let b1 = {x:80,w:bw,h:0,y:0}, b2 = {x:0,w:bw,h:0,y:0};

// player
let p = {x:0,y:0,w:36,h:56,building:1,climb:0,fall:false,fallSpeed:0,suit:'Classic'};

// rope
let rope = {active:false,ax:0,ay:0,angle:-Math.PI/4,vel:0,length:280,dir:1};

function rand(a,b){return a + Math.random()*(b-a);}
function genBuildings(){
  const minH = canvas.height*0.45, maxH = canvas.height*0.9;
  b1.h = Math.floor(rand(minH,maxH)); b1.y = canvas.height - b1.h;
  gap = Math.floor(rand(220, 320));
  b2.h = Math.floor(rand(minH,maxH)); b2.x = b1.x + b1.w + gap; b2.y = canvas.height - b2.h;
  rope.length = Math.abs(b2.x - (b1.x + b1.w)) + 20;
}
function startGame(){
  score = 0; playing = true; document.getElementById('menu').style.display='none'; document.getElementById('ui').style.display='block';
  genBuildings();
  p.building = 1; p.x = b1.x + 12; p.y = b1.y + 12; p.fall=false; rope.active=false; updateHud();
}
function updateHud(){ document.getElementById('score').textContent = score; document.getElementById('hs').textContent = high; }

document.getElementById('play').addEventListener('click', ()=>{ startGame(); });

// input drag for climb
let dragging=false, lastY=null;
function startDrag(y){ dragging=true; lastY=y; }
function moveDrag(y){ if(!dragging || !playing || rope.active || p.fall) return; let dy = y - lastY; p.climb = dy*0.2; lastY = y; }
function endDrag(){ dragging=false; p.climb = 0; }
canvas.addEventListener('mousedown', e=> startDrag(e.clientY));
canvas.addEventListener('mousemove', e=> moveDrag(e.clientY));
canvas.addEventListener('mouseup', endDrag);
canvas.addEventListener('touchstart', e=> startDrag(e.touches[0].clientY));
canvas.addEventListener('touchmove', e=> moveDrag(e.touches[0].clientY));
canvas.addEventListener('touchend', endDrag);

// swing on click/tap
canvas.addEventListener('click', ()=>{ if(!playing || p.fall) return; if(!rope.active) beginSwing(); else releaseSwing(); });

function beginSwing(){
  rope.dir = (p.building===1)?1:-1;
  rope.ax = (rope.dir===1)? (b1.x + b1.w) : b2.x;
  rope.ay = p.y;
  rope.angle = -Math.PI/4; rope.vel = 0; rope.active = true;
  // simple sound (if allowed)
  try{ const a=new AudioContext(); const o=a.createOscillator(); const g=a.createGain(); o.type='sine'; o.frequency.value=500; g.gain.value=0.0001; g.gain.exponentialRampToValueAtTime(0.03, a.currentTime+0.02); g.gain.exponentialRampToValueAtTime(0.0001, a.currentTime+0.4); o.connect(g); g.connect(a.destination); o.start(); o.stop(a.currentTime+0.45);}catch(e){}
}

function releaseSwing(){
  const ax = rope.ax;
  const px = ax + Math.cos(rope.angle) * rope.length * rope.dir;
  if(rope.dir===1){
    if(px >= b2.x - p.w){ p.building=2; p.x = b2.x + 10; p.y = Math.max(20, b2.y + 10); score++; onLand(); }
    else { p.fall = true; p.fallSpeed = 4; }
  } else {
    if(px <= b1.x + b1.w - 10){ p.building=1; p.x = b1.x + 10; p.y = Math.max(20, b1.y + 10); score++; onLand(); }
    else { p.fall = true; p.fallSpeed = 4; }
  }
  rope.active = false;
}

function onLand(){
  genBuildings();
  if(score>high){ high = score; localStorage.setItem('spidey_high', high); }
  updateHud();
}

// game update/render
function update(dt){
  if(!playing) return;
  if(p.fall){
    p.fallSpeed += 0.6; p.y += p.fallSpeed;
    if(p.y > canvas.height){ // game over -> reset to menu
      playing = false; document.getElementById('menu').style.display='block'; document.getElementById('ui').style.display='none'; alert('Game Over! Score: '+score); return;
    }
    return;
  }
  if(!rope.active){ p.y += p.climb; p.y = Math.max(0, Math.min(canvas.height - p.h, p.y)); }
  if(rope.active){
    const g = 0.003 + Math.min(0.01, score*0.001);
    rope.vel += g * Math.sin(rope.angle) * dt;
    rope.vel *= 0.995;
    rope.angle -= rope.vel * dt;
    // auto land
    if(Math.abs(rope.vel) < 0.0008 && Math.abs(rope.angle) < 0.03){ releaseSwing(); }
  }
}
function render(){
  // sky
  ctx.fillStyle = 'rgb(135,206,235)'; ctx.fillRect(0,0,canvas.width,canvas.height);
  // clouds
  ctx.fillStyle='rgba(255,255,255,0.9)'; for(let i=0;i<6;i++){ const cx = (i*200 + (performance.now()/80) % 400) % canvas.width; ctx.beginPath(); ctx.ellipse(cx, 80 + (i%3)*12, 80,30,0,0,Math.PI*2); ctx.fill(); }
  // buildings
  function drawB(b){ ctx.fillStyle='#333'; ctx.fillRect(b.x,b.y,b.w,canvas.height-b.y); // windows\n    const cols = Math.floor(b.w/28); const rows = Math.floor((canvas.height-b.y)/28);\n    for(let i=0;i<cols;i++){ for(let r=0;r<rows;r++){ const wx=b.x+6+i*26; const wy=b.y+6+r*26; ctx.fillStyle = ((r+i*3+score)%7===0)?'#ffd66b':'#0b2b3b'; ctx.fillRect(wx,wy,18,16); } }\n  }\n  drawB(b1); drawB(b2);\n  // ground\n  ctx.fillStyle='#222'; ctx.fillRect(0,canvas.height-22,canvas.width,22);\n  // rope & player\n  if(rope.active){ const ax = rope.ax; const ay = rope.ay; const px = ax + Math.cos(rope.angle)*rope.length*rope.dir; const py = ay + Math.sin(rope.angle)*rope.length; ctx.strokeStyle='#000'; ctx.lineWidth=2; ctx.beginPath(); ctx.moveTo(ax,ay); ctx.lineTo(px+p.w/2,py+p.h/6); ctx.stroke(); drawPlayer(px,py); } else { drawPlayer(p.x,p.y); }\n  // UI text\n  ctx.fillStyle='#000'; ctx.font='14px Arial'; ctx.fillText('Score: '+score, 12, 22);\n}\nfunction drawPlayer(x,y){ ctx.fillStyle='#cc2222'; ctx.fillRect(x,y,p.w,p.h); ctx.fillStyle='#123c86'; ctx.fillRect(x,y+p.h/2,p.w,p.h/2); ctx.fillStyle='#000'; ctx.fillRect(x+6,y+6, p.w-12, 10); }\nlet last = performance.now(); function loop(now){ const dt = Math.min(1/30,(now-last)/16.666); last = now; update(dt); render(); requestAnimationFrame(loop);} requestAnimationFrame(loop);

// init small\ngenBuildings();
</script>
</body>
</html>
"""
path = "/mnt/data/spiderman.html"
with open(path, "w", encoding="utf-8") as f:
    f.write(html_content)
path
